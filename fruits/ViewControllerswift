//
//  ViewController.swift
//  Floewers
//
//  Created by Anar Suleymanli on 18.09.22.
//

import UIKit


class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {
    
    let searchController = UISearchController()
    
    
    @IBOutlet weak var tableView: UITableView!
        
    
    var chosenFruitsName = ""
    var chosenFruitsImage = UIImage()
    var chosenFruitsInfo = UILabel()
   
    
    var fruitsName = [String]()
    var fruitsImages = [UIImage]()
    var fruitsInfo = [UILabel]()
    
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        title = "Search"
        navigationItem.searchController = searchController
        
        tableView.delegate = self
        tableView.dataSource = self
        
        
        fruitsName.append("Apple")
        fruitsName.append("Avokado")
        fruitsName.append("Banana")
        fruitsName.append("Coconut")
        fruitsName.append("Feyxoa")
        fruitsName.append("Kiwi")
        fruitsName.append("Lychee")
        fruitsName.append("Mango")
        fruitsName.append("Mangustin")
        fruitsName.append("Marakuje")
        fruitsName.append("Orange")
        fruitsName.append("Pinapple")
        fruitsName.append("Strawberry")
        
        
        fruitsImages.append(UIImage(named: "apple")!)
        fruitsImages.append(UIImage(named: "avakado")!)
        fruitsImages.append(UIImage(named: "banana")!)
        fruitsImages.append(UIImage(named: "coconut")!)
        fruitsImages.append(UIImage(named: "feyxoa")!)
        fruitsImages.append(UIImage(named: "kiwi")!)
        fruitsImages.append(UIImage(named: "lychee")!)
        fruitsImages.append(UIImage(named: "mango")!)
        fruitsImages.append(UIImage(named: "mangustin")!)
        fruitsImages.append(UIImage(named: "marakuje")!)
        fruitsImages.append(UIImage(named: "orange")!)
        fruitsImages.append(UIImage(named: "pineapple")!)
        fruitsImages.append(UIImage(named: "strawberry")!)
        
        
        
        
        
    }
    
    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return fruitsName.count
        
    }
    
    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        let cell = UITableViewCell()
        var content = cell.defaultContentConfiguration()
        content.text = fruitsName[indexPath.row]
        cell.contentConfiguration = content
        return cell
    }
    
    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
        chosenFruitsName = fruitsName[indexPath.row]
        chosenFruitsImage = fruitsImages[indexPath.row]
        chosenFruitsInfo = fruitsInfo[indexPath.row]
        performSegue(withIdentifier: "toDetailsVC", sender: nil)
    }
    
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        if segue.identifier == "toDetailsVC" {
            let destinationVC = segue.destination as! DetailsVC
            destinationVC.selectedfruitsName = chosenFruitsName
            destinationVC.selectedfruitsImage = chosenFruitsImage
            destinationVC.selectedfruitsInfo = chosenFruitsInfo
            
            
            
            
            
            
            
            
            
            
            
            
        }
        
    }
}
